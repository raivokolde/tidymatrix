% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/joins.R
\name{joins}
\alias{joins}
\alias{left_join.tidymatrix}
\alias{right_join.tidymatrix}
\alias{inner_join.tidymatrix}
\alias{full_join.tidymatrix}
\alias{semi_join.tidymatrix}
\alias{anti_join.tidymatrix}
\title{Join tidymatrix with another data frame}
\usage{
\method{left_join}{tidymatrix}(
  x,
  y,
  by = NULL,
  copy = FALSE,
  suffix = c(".x", ".y"),
  ...,
  keep = NULL
)

\method{right_join}{tidymatrix}(
  x,
  y,
  by = NULL,
  copy = FALSE,
  suffix = c(".x", ".y"),
  ...,
  keep = NULL
)

\method{inner_join}{tidymatrix}(
  x,
  y,
  by = NULL,
  copy = FALSE,
  suffix = c(".x", ".y"),
  ...,
  keep = NULL
)

\method{full_join}{tidymatrix}(
  x,
  y,
  by = NULL,
  copy = FALSE,
  suffix = c(".x", ".y"),
  ...,
  keep = NULL
)

\method{semi_join}{tidymatrix}(x, y, by = NULL, copy = FALSE, ...)

\method{anti_join}{tidymatrix}(x, y, by = NULL, copy = FALSE, ...)
}
\arguments{
\item{x}{A tidymatrix object}

\item{y}{A data frame or tibble to join with}

\item{by}{A character vector of variables to join by. If NULL, uses all
variables that appear in both tables.}

\item{copy}{If \code{y} is not a data frame or tibble, this controls whether
to copy it or not.}

\item{suffix}{If there are non-joined duplicate variables in \code{x} and
\code{y}, these suffixes will be added to disambiguate them.}

\item{...}{Additional arguments passed to the corresponding dplyr join function}

\item{keep}{Control which join keys to preserve in the output (see
\code{\link[dplyr]{left_join}}).}
}
\value{
A tidymatrix object with joined metadata and updated matrix
}
\description{
These functions are tidymatrix methods for dplyr's join functions.
They join the row_data or col_data (depending on which is active) with
an external data.frame, and appropriately update the matrix dimensions.
}
\details{
Joins work on the active dimension (rows or columns). Use \code{activate()}
to specify which metadata to join.

When joins add new rows/columns (e.g., \code{right_join}, \code{full_join}),
the matrix is expanded with NA values for the new entries.

When joins remove rows/columns (e.g., \code{inner_join}, \code{semi_join},
\code{anti_join}), the matrix is subset accordingly.

All joins invalidate stored analyses, as the matrix dimensions may have changed.
}
\examples{
# Create example tidymatrix
mat <- matrix(rnorm(50), nrow = 10, ncol = 5)
row_data <- data.frame(gene_id = paste0("Gene_", 1:10))
col_data <- data.frame(sample_id = paste0("Sample_", 1:5))
tm <- tidymatrix(mat, row_data, col_data)

# Create external annotation data
annotations <- data.frame(
  gene_id = paste0("Gene_", c(1:8, 15:17)),
  pathway = sample(c("A", "B"), 11, replace = TRUE)
)

# Left join - keep all genes from tidymatrix
tm_left <- tm |>
  activate(rows) |>
  left_join(annotations, by = "gene_id")

# Inner join - keep only matching genes
tm_inner <- tm |>
  activate(rows) |>
  inner_join(annotations, by = "gene_id")

# Full join - keep all genes from both
tm_full <- tm |>
  activate(rows) |>
  full_join(annotations, by = "gene_id")

}
