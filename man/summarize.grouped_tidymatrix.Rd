% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarize.R
\name{summarize.grouped_tidymatrix}
\alias{summarize.grouped_tidymatrix}
\alias{summarise.grouped_tidymatrix}
\title{Summarize grouped tidymatrix}
\usage{
\method{summarize}{grouped_tidymatrix}(.data, ..., .matrix_fn = NULL, .matrix_args = list(), .groups = NULL)

\method{summarise}{grouped_tidymatrix}(.data, ..., .matrix_fn = NULL, .matrix_args = list(), .groups = NULL)
}
\arguments{
\item{.data}{A grouped_tidymatrix object}

\item{...}{Name-value pairs of summary functions for metadata}

\item{.matrix_fn}{Function to aggregate matrix values within each group.
Default is \code{mean} for numeric matrices. Required for non-numeric matrices.}

\item{.matrix_args}{List of additional arguments to pass to \code{.matrix_fn}
(e.g., \code{list(na.rm = TRUE)})}

\item{.groups}{Grouping structure of result (same as dplyr::summarize)}
}
\value{
An ungrouped tidymatrix object with aggregated data
}
\description{
Aggregate grouped rows or columns, applying summary functions to metadata
and aggregating the matrix. For numeric matrices, the default aggregation
is \code{mean()}. For non-numeric matrices, you must specify \code{.matrix_fn}.
}
\examples{
mat <- matrix(rnorm(20), nrow = 10, ncol = 2)
row_data <- data.frame(
  id = 1:10,
  group = rep(c("A", "B"), each = 5)
)
tm <- tidymatrix(mat, row_data)

# Summarize with default (mean) for numeric matrix
tm \%>\%
  activate(rows) \%>\%
  group_by(group) \%>\%
  summarize(n = n(), avg_id = mean(id))

# Use different aggregation function
tm \%>\%
  activate(rows) \%>\%
  group_by(group) \%>\%
  summarize(n = n(), .matrix_fn = median)

# With additional arguments
mat_na <- mat
mat_na[1, 1] <- NA
tm_na <- tidymatrix(mat_na, row_data)
tm_na \%>\%
  activate(rows) \%>\%
  group_by(group) \%>\%
  summarize(n = n(), .matrix_fn = mean, .matrix_args = list(na.rm = TRUE))
}
