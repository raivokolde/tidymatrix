% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/count.R
\name{count.tidymatrix}
\alias{count.tidymatrix}
\title{Count observations by group}
\usage{
\method{count}{tidymatrix}(
  x,
  ...,
  wt = NULL,
  sort = FALSE,
  name = NULL,
  .drop = TRUE,
  .matrix_fn = NULL,
  .matrix_args = list()
)
}
\arguments{
\item{x}{A tidymatrix object}

\item{...}{Variables to group by}

\item{wt}{Frequency weights (not yet implemented)}

\item{sort}{If TRUE, sort output in descending order of n}

\item{name}{Name of count column (default: "n")}

\item{.drop}{Drop groups with zero observations}

\item{.matrix_fn}{Function to aggregate matrix values. Default is \code{mean}
for numeric matrices. Required for non-numeric matrices.}

\item{.matrix_args}{List of additional arguments to pass to \code{.matrix_fn}}
}
\value{
A tidymatrix object with counts and aggregated matrix
}
\description{
Count the number of observations in each group, aggregating the matrix.
Returns a tidymatrix (not a tibble).
}
\examples{
mat <- matrix(rnorm(20), nrow = 10, ncol = 2)
row_data <- data.frame(
  id = 1:10,
  group = rep(c("A", "B"), each = 5),
  subgroup = rep(c("x", "y"), 5)
)
tm <- tidymatrix(mat, row_data)

# Count by single variable
tm \%>\%
  activate(rows) \%>\%
  count(group)

# Count by multiple variables
tm \%>\%
  activate(rows) \%>\%
  count(group, subgroup)

# Use different aggregation for matrix
tm \%>\%
  activate(rows) \%>\%
  count(group, .matrix_fn = median)
}
